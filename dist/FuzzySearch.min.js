/**
 * @license FuzzySearch.js
 * Autocomplete suggestion engine using approximate string matching
 * https://github.com/jeancroy/FuzzySearch
 *
 * Copyright (c) 2015, Jean Christophe Roy
 * Licensed under The MIT License.
 * http://opensource.org/licenses/MIT
 */
!function(){"use strict";function a(b){return void 0===b&&(b={}),this instanceof a?void a.setOptions(this,b,a.defaultOptions,r,!0,this._optionsHook):new a(b)}function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function c(a,b){for(var c=b.length,d=0,e=-1;++e<c;){var f=b[e],g=f.length;a.substr(d,g)===f&&(d+=g)}return d>0?a.substr(d):a}function d(a){var b=/[\-\[\]\/\{}\(\)\*\+\?\.\\\^\$\|]/g;return a.replace(b,"\\$&")}function e(a,b,c,d,e,f){this.item=a,this.fields=b,this.score=c,this.matchIndex=d,this.subIndex=e,this.sortKey=f}function f(a,b){var c=b.score-a.score;if(0!==c)return c;var d=a.sortKey,e=b.sortKey;return d>e?1:e>d?-1:0}function g(a,b,c,d,e,f){this.normalized=a,this.tokens_groups=b,this.fused_str=c,this.fused_map=d,this.fused_score=0,this.has_children=e,this.children=f}function h(a,b,c){this.tokens=a,this.map=b,this.gate=c;for(var d=a.length,e=-1,f=new Array(d);++e<d;)f[e]=0;this.score_item=f.slice(),this.score_field=f.slice(),this.field_pos=f}function i(a,b){this.start=a,this.end=b}function j(a,b){this.item=a,this.fields=b}function k(a){return a?a.toLowerCase().replace(/\s+/g," ").replace(/[^\u0000-\u007E]/g,function(a){return t[a]||a}):""}function l(){for(var a="\xe3\xe0\xe1\xe4\xe2\xe6\u1ebd\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf5\xf2\xf3\xf6\xf4\u0153\xf9\xfa\xfc\xfb\xf1\xe7",b="aaaaaaeeeeeiiiioooooouuuunc",c={},d=0;d<a.length;d++)c[a[d]]=b[d];return c}function m(a,b,c,d){for(var e,f,g,h=b.length;h>d&&(e=b[d++],"*"!==e&&""!==e);){if(!(e in a))return c;a=a[e]}var i=Object.prototype.toString.call(a),j="[object Array]"===i,k="[object Object]"===i;if(d===h)if(j)for(f=-1,g=a.length;++f<g;)c.push(a[f].toString());else if(k)for(e in a)a.hasOwnProperty(e)&&c.push(a[e].toString());else c.push(a.toString());else if("*"===e)if(j)for(f=-1,g=a.length;++f<g;)m(a[f],b,c,d);else if(k)for(e in a)a.hasOwnProperty(e)&&m(a[e],b,c,d);return c}function n(a,b,c){var d,e,f=a.length,g=[];for(d=0;f>d;d++)g[d]={};var h,i=o(a,g,0,0,c),j=0;for(d=0;f>d&&(h=g[d][j],h);d++)b[d]=e=h.index,e>-1&&(j|=1<<e);return i}function o(a,b,c,d,e){var f=a.length,g=a[d].length;g>s&&(g=s);var h,i,j,k=e[d],l=0,m=-1,n=f-1>d,q=b[d+1];for(h=0;g>h;h++){var r=1<<h;c&r||(i=a[d][h],k>i||(n&&(j=c|r,i+=j in q?q[j].score:o(a,b,j,d+1,e)),i>l&&(l=i,m=h)))}return n&&(j=c,i=j in q?q[j].score:o(a,b,j,d+1,e),i>l&&(l=i,m=-1)),b[d][c]=new p(l,m),l}function p(a,b){this.score=a,this.index=b}function q(a,b){var c,d,e=a.slice();for(a.length=b,c=0;b>c;c++)a[c]=-1;for(c=0;c<e.length;c++)d=e[c],d>-1&&b>d&&(a[d]=c)}a.defaultOptions={minimum_match:1,thresh_include:2,thresh_relative_to_best:.5,field_good_enough:20,bonus_match_start:.5,bonus_token_order:2,bonus_position_decay:.7,score_per_token:!0,score_test_fused:!1,score_acronym:!1,acronym_tok:" .,-:",score_round:.1,output_limit:0,sorter:f,normalize:k,filter:null,output_map:"item",join_str:", ",token_query_min_length:2,token_field_min_length:3,token_query_max_length:64,token_field_max_length:64,token_fused_max_length:64,token_min_rel_size:.6,token_max_rel_size:10,interactive_debounce:150,interactive_mult:1.2,interactive_burst:3,source:[],keys:[],dirty:!1,lazy:!1};var r={tags:[],index:[],tags_re:null,acro_re:null,query:null,results:[],start_time:0,search_time:0},s=32;a.setOptions=function(a,b,c,d,e,f){var g;if(e){for(g in c)c.hasOwnProperty(g)&&(a[g]=b.hasOwnProperty(g)&&void 0!==b[g]?b[g]:c[g]);for(g in d)d.hasOwnProperty(g)&&(a[g]=d[g])}else for(g in b)b.hasOwnProperty(g)&&c.hasOwnProperty(g)&&(a[g]=void 0===b[g]?c[g]:b[g]);f.call(a,b)},b(a.prototype,{setOptions:function(b,c){void 0===c&&(c=b.reset||!1),a.setOptions(this,b,a.defaultOptions,r,c,this._optionsHook)},_optionsHook:function(a){"output_map"in a&&"string"==typeof a.output_map&&("alias"===this.output_map?this.output_map=this.aliasResult:this.output_map=c(this.output_map,["root","."]));var b;if("keys"in a&&void 0!==(b=a.keys)){var d,e,f=Object.prototype.toString.call(b);if(this.tags=null,"[object String]"===f)this.keys=b.length?[b]:[];else if("[object Object]"===f){this.keys=[],this.tags=[],d=0;for(var g in b)b.hasOwnProperty(g)&&(this.tags[d]=g,this.keys[d]=b[g],d++)}for(b=this.keys,e=b.length,d=-1;++d<e;)b[d]=c(b[d],["item","."]);this.tags||(this.tags=b),this.tags_re=this._buildTagsRE(this.tags)}(null==this.acro_re||"acronym_tok"in a)&&(this.acro_re=this._buildAcronymRE(this.acronym_tok)),(this.dirty||"source"in a||"keys"in a)&&(this.lazy?this.dirty=!0:(this._prepSource(this.source,this.keys,!0),this.dirty=!1))},_buildTagsRE:function(a){var b=a.length;if(!b)return null;for(var c=d(a[0]),e=0;++e<b;)c+="|"+d(a[e]);return new RegExp("(?:^|\\s)\\s*("+c+"):\\s*","g")},_buildAcronymRE:function(a){var b=a.length;if(!b)return null;var c=d(a);return new RegExp("(?:^|["+c+"])+([^"+c+"])[^"+c+"]*","g")}}),b(a.prototype,{getMatchingField:function(b){var c=a.generateFields(b.item,[this.keys[b.matchIndex]]);return c[0][b.subIndex]},aliasResult:function(b){for(var c=a.generateFields(b.item,this.keys),d={},e=-1,f=c.length;++e<f;)d[this.tags[e]]=c[e].join(this.join_str);return d._item=b.item,d._score=b.score,d._match=c[b.matchIndex][b.subIndex],d}}),a.map=function(a,b,c,d){var e=a.length;if(d>0&&e>d&&(e=d),"function"!=typeof b)return a.slice(0,e);for(var f=new Array(e),g=-1;++g<e;)f[g]=b.call(c,a[g],g,a);return f},a.mapField=function(a,b,c){var d=a.length;if(c>0&&d>c&&(d=c),""===b)return a.slice(0,d);var e,f,g=new Array(d);if(-1===b.indexOf("."))for(f=-1;++f<d;)e=a[f],b in e&&(g[f]=e[b]);else{var h=b.split("."),i=h.length;for(f=-1;++f<d;){e=a[f];for(var j=-1;++j<i;){var k=h[j];if(!(k in e))break;e=e[k]}g[f]=e}}return g},a.filterGTE=function(a,b,c){for(var d,e=-1,f=-1,g=a.length,h=[];++e<g;)d=a[e],d[b]>=c&&(h[++f]=d);return h},b(a.prototype,{_prepQuery:function(b){var c,d,e,f,h,i,j=this.score_per_token,k=this.score_test_fused,l=this.token_fused_max_length,m=this.token_field_min_length,n=this.token_field_max_length,o=this.tags,p=this.tags_re,q=o.length;if(j&&q&&p){var r,s=0,t=0,u=new Array(q+1),v=p.exec(b);for(h=null!=v;null!=v;)r=v.index,u[t]=b.substring(s,r),s=r+v[0].length,t=o.indexOf(v[1])+1,v=p.exec(b);u[t]=b.substring(s),f=new Array(q);for(var w=-1;++w<q;){var x=u[w+1];x&&x.length&&(c=this.normalize(x),d=c.substring(0,l),e=k||!j?a.alphabet(d):{},i=a.pack_tokens(a.filterSize(c.split(" "),m,n)),f[w]=new g(c,i,d,e,!1,[]))}c=this.normalize(u[0]),i=a.pack_tokens(a.filterSize(c.split(" "),m,n))}else c=this.normalize(b),i=j?a.pack_tokens(a.filterSize(c.split(" "),this.token_query_min_length,this.token_query_max_length)):[],h=!1,f=new Array(q);return d=c.substring(0,l),e=k||!j?a.alphabet(d):{},new g(c,i,d,e,h,f)}}),g.prototype.resetItem=function(){for(var a=this.tokens_groups,b=-1,c=a.length;++b<c;)for(var d=a[b].score_item,e=-1,f=d.length;++e<f;)d[e]=0;if(this.fused_score=0,this.has_children)for(var g=this.children,h=-1,i=g.length;++h<i;){var j=g[h];j&&j.resetItem()}},g.prototype.scoreItem=function(){for(var a=0,b=this.tokens_groups,c=-1,d=b.length;++c<d;)for(var e=b[c].score_item,f=-1,g=e.length;++f<g;)a+=e[f];if(this.fused_score>a&&(a=this.fused_score),this.has_children)for(var h=this.children,i=-1,j=h.length;++i<j;){var k=h[i];k&&(a+=k.scoreItem())}return a},a.alphabet=function(b){var c=b.length;return c>s?a.posVector(b):a.bitVector(b,{},0)},a.mapAlphabet=function(b){for(var c=b.length,d=new Array(c),e=-1;++e<c;){var f=b[e];f.length>s?d[e]=a.posVector(f):d[e]=a.bitVector(f,{},0)}return d},a.bitVector=function(a,b,c){for(var d,e=a.length,f=-1,g=c;++f<e;)d=a[f],d in b?b[d]|=1<<g++:b[d]=1<<g++;return b},a.posVector=function(a){for(var b,c={},d=a.length,e=-1;++e<d;)b=a[e],b in c?c[b].push(e):c[b]=[e];for(b in c)c.hasOwnProperty(b)&&c[b].push(1/0);return c},a.pack_tokens=function(b){for(var c,d=-1,e=b.length,f=[];e>d;){for(var g=[],i={},j=0,k=0;++d<e;){var l=b[d],m=l.length;if(m>=s){c=new h([l],a.posVector(l),4294967295);break}if(m+j>=s){d--;break}g.push(l),a.bitVector(l,i,j),k|=(1<<l.length-1)-1<<j,j+=m}g.length>0&&f.push(new h(g,i,k)),c&&(f.push(c),c=null)}return f},a.prototype.score=function(b,c){var d=a.alphabet(b);return a.score_map(b,c,d,this)},a.score_map=function(b,c,d,e){var f,g,h=b.length,i=c.length,j=e.bonus_match_start,k=i>h?h:i;if(0===k||i<e.token_min_rel_size*h||i>e.token_max_rel_size*h)return 0;var l=(h+i)/(2*h*i),m=0;if(b===c)m=k;else for(;b[m]===c[m]&&++m<k;);if(m===k)return g=m,l*g*g+j*m;if(h>s)return g=a.llcs_large(b,c,d,m),l*g*g+j*m;var n,o,p=(1<<h)-1,q=p;for(f=m-1;++f<i;)o=c[f],o in d&&(n=q&d[o],q=q+n|q-n);return p&=~((1<<m)-1),q=~q&p,q-=q>>1&1431655765,q=(858993459&q)+(q>>2&858993459),g=16843009*(q+(q>>4)&252645135)>>24,g+=m,l*g*g+j*m},a.score_pack=function(a,b,c){for(var d,e,f=a.tokens,g=f.length,h=4294967295,i=0|a.gate,j=a.map,k=-1,l=b.length;++k<l;)e=b[k],e in j&&(d=h&j[e],h=(h&i)+(d&i)|h-d);h=~h;for(var m=c.bonus_match_start,n=c.token_min_rel_size,o=c.token_max_rel_size,p=new Array(g),q=0,r=-1;++r<g;){var s,t,u=f[r],v=u.length;if(n*v>l||l>o*v)p[r]=0,q+=v;else{if(u===b)t=s=v;else{var w=l>v?v:l;for(t=0;u[t]===b[t]&&++t<w;);s=t;for(var x=(h>>>q&(1<<v)-1)>>>t;x;)x&=x-1,s++}q+=v;var y=(v+l)/(2*v*l);p[r]=y*s*s+m*t}}return p},a.llcs_large=function(a,b,c,d){var e,f,g,h,j,k;void 0===d&&(d=0),g=d?[new i(0,d),new i(1/0,1/0)]:[new i(1/0,1/0)];var l,m,n,o,p,q,r=d,s=g.length,t=b.length;for(q=d;t>q;q++){var u=b[q];if(u in c){l=c[u];var v=new Array(Math.min(2*s,r+2));for(h=-1,m=0,f=l[0],k=-1,o=-1;++o<s;){for(j=k,n=g[o],e=n.start,k=n.end,p=k-e;j>f;)f=l[++m];f>=e?v[++h]=n:(f===j?v[h].end++:1===p?(n.start=f,n.end=f+1,v[++h]=n):v[++h]=new i(f,f+1),p>1&&(n.start++,v[++h]=n))}e>f&&(v[++h]=n,r++),g=v,s=++h}}return r},b(a.prototype,{search:function(b){var c=window.performance&&window.performance.now?window.performance:Date,d=c.now();this.start_time=d,this.dirty&&(this._prepSource(this.source,this.keys,!0),this.dirty=!1);var e=this.query=this._prepQuery(b),f=this.index,g=[];this.filter&&(f=this.filter.call(this,f));var h=this._searchIndex(e,f,g);g=a.filterGTE(g,"score",h),"function"==typeof this.sorter&&(g=g.sort(this.sorter)),(this.output_map||this.output_limit>0)&&(g="function"==typeof this.output_map?a.map(g,this.output_map,this,this.output_limit):a.mapField(g,this.output_map,this.output_limit));var i=c.now();return this.search_time=i-d,this.results=g,g},_searchIndex:function(b,c,d){for(var f=this.bonus_position_decay,g=this.field_good_enough,h=this.thresh_relative_to_best,i=this.score_per_token,j=this.score_round,k=this.thresh_include,l=0,m=b.children,n=-1,o=c.length;++n<o;){var p=c[n],q=p.fields;b.resetItem();for(var r=0,s=-1,t=-1,u=1,v=-1,w=q.length;++v<w;){for(var x=0,y=-1,z=q[v],A=m[v],B=!!A,C=-1,D=z.length;++C<D;){var E,F=z[C];i?(E=this._scoreField(F,b),B&&(E+=this._scoreField(F,A))):E=a.score_map(b.fused_str,F.join(" "),b.fused_map,this),E>x&&(x=E,y=C)}if(x*=1+u,u*=f,x>r&&(r=x,s=v,t=y,x>g))break}if(i){var G=b.scoreItem();r=.5*r+.5*G}if(r>l){l=r;var H=r*h;H>k&&(k=H)}r>k&&(r=Math.round(r/j)*j,d.push(new e(p.item,q,r,s,t,q[0][0].join(" "))))}return k},_scoreField:function(b,c){var d=c.tokens_groups,e=d.length;if(!e)return 0;for(var f,g,h,i,j=b.length,k=0,l=-1,m=this.bonus_token_order,n=this.minimum_match,o=-1;++o<e;){var p=d[o],q=p.tokens,r=q.length,s=1==r,t=p.score_field;for(i=-1;++i<r;)t[i]=0;var u=p.field_pos;for(i=-1;++i<r;)u[i]=0;for(var v=-1;++v<j;)if(g=b[v],s)f=a.score_map(q[0],g,p.map,this),f>t[0]&&(t[0]=f,u[0]=v);else for(h=a.score_pack(p,g,this),i=-1;++i<r;)f=h[i],f>t[i]&&(t[i]=f,u[i]=v);var w=p.score_item;for(i=-1;++i<r;){if(f=t[i],k+=f,f>n){var x=u[i];x>l&&(k+=m,f+=m),l=x}f>w[i]&&(w[i]=f)}}if(this.score_test_fused){var y=a.score_map(c.fused_str,b.join(" "),c.fused_map,this);k=y>k?y:k,y>c.fused_score&&(c.fused_score=y)}return k}}),b(a.prototype,{_prepSource:function(b,c,d){var e,f=b.length;d?(this.index=new Array(f),e=0):e=f;for(var g=this.index,h=this.token_field_min_length,i=this.token_field_max_length,k=this.score_acronym,l=this.acro_re,m=-1;++m<f;){for(var n=b[m],o=a.generateFields(n,c),p=o.length,q=-1;++q<p;)for(var r=o[q],s=-1,t=r.length;++s<t;){var u=this.normalize(r[s]),v=a.filterSize(u.split(" "),h,i);k&&v.push(u.replace(l,"$1")),r[s]=v}g[e++]=new j(n,o)}}});var t=l();a.generateFields=function(a,b){if(!b.length)return[[a.toString()]];for(var c=b.length,d=new Array(c),e=-1;++e<c;)d[e]=m(a,b[e].split("."),[],0);return d},a.filterSize=function(a,b,c){for(var d,e,f=-1,g=-1,h=a.length,i=[];++f<h;)d=a[f],e=d.length,e>=b&&(i[++g]=c>e?d:d.substr(0,c));return i};var u={highlight_prefix:!1,highlight_bridge_gap:2,highlight_before:'<strong class="highlight">',highlight_after:"</strong>"},v=a.defaultOptions;for(var w in u)u.hasOwnProperty(w)&&(v[w]=u[w]);return a.prototype.highlight=function(b,c){var d,e,f=this.query.normalized;return c&&c.length&&(d=this.tags.indexOf(c))>-1&&(e=this.query.children[d])&&(f+=(f.length?" ":"")+e.normalized),a.highlight(f,b,this)},a.highlight=function(b,c,d){if(void 0===d&&(d=a.defaultOptions),!c)return"";var e=d.highlight_before,f=d.highlight_after,g=d.score_per_token,h=d.score_test_fused,i=d.score_acronym,j=d.normalize(b).trim(),k=d.normalize(c).trim(),l=j.split(" "),m=k.split(" "),n=c.split(/\s+/),o=[],p=[],q=0,r=0;if(g&&(r=a.matchTokens(l,m,p,d,!0)),(h||!g||i)&&(q=a.score_map(j,k,a.alphabet(j),d)),0===r&&0===q)return c;(!g||q>r)&&(l=[j],m=[k],n=[n.join(" ")],p=[0]);for(var s=n.length,t=-1;++t<s;){var u=p[t];if(-1!==u){var v=l[u],w=m[t],x=n[t],y=0,z=[],A=[];a.align(v,w,z,A);for(var B=z.length,C=-1;++C<B;){var D=z[C],E=A[C];D>y&&o.push(x.substring(y,D)),o.push(e+x.substring(D,E)+f),y=E}o.push(x.substring(y)+" ")}else o.push(n[t]+" ")}return o.join("")},a.align=function(b,c,d,e,f){void 0===f&&(f=a.defaultOptions);var g,h,i=100,j=-10,k=-1,l=0,m=1,n=2,o=3,p=f.score_acronym,q=f.acronym_tok,r=Math.min(b.length+1,f.token_query_max_length),s=Math.min(c.length+1,f.token_field_max_length),t=s>r?r:s,u=0;if(b===c)u=r,r=0;else if(f.highlight_prefix){for(g=0;t>g&&b[g]===c[g];g++)u++;u&&(b=b.substring(u),c=c.substring(u),r-=u,s-=u)}var v=0,w=0,x=0,y=new Array(r*s),z=s-1;if(r>1&&s>1){var A,B,C,D,E=new Array(s),F=new Array(s),G=0;for(h=0;s>h;h++)F[h]=0,E[h]=0,y[h]=l;for(g=1;r>g;g++)for(G=0,A=E[0],z++,y[z]=l,h=1;s>h;h++)switch(D=F[h]=Math.max(F[h]+k,E[h]+j),G=Math.max(G+k,E[h-1]+j),C=p?b[g-1]!==c[h-1]?-(1/0):A+i+(2>g||q.indexOf(b[g-2])>-1?i:0)+(2>h||q.indexOf(c[h-2])>-1?i:0):b[g-1]===c[h-1]?A+i:-(1/0),A=E[h],B=E[h]=Math.max(C,D,G,0),z++,B){case C:y[z]=o,B>v&&(v=B,w=g,x=h);break;case G:y[z]=n;break;case D:y[z]=m;break;default:y[z]=l}}var H=f.highlight_bridge_gap,I=0;if(v>0){g=w,h=x,z=g*s+h,I=x,e.push(x+u);for(var J=!0;J;)switch(y[z]){case m:g--,z-=s;break;case n:h--,z--;break;case o:I-h>H&&(d.push(I+u),e.push(h+u)),h--,g--,I=h,z-=s+1;break;case l:default:J=!1}d.push(I+u)}return u&&(I>0&&H>=I?d[d.length-1]=0:(d.push(0),e.push(u))),d.reverse(),e.reverse(),v+u},a.matchTokens=function(b,c,d,e,f){void 0===e&&(e=a.defaultOptions),void 0==f&&(f=!1);var g,h,i,j,k,l,m,o=e.minimum_match,p=e.thresh_relative_to_best,r=[],s=b.length,t=c.length,u=a.mapAlphabet(b),v=o,w=-1,x=-1,y=0,z=[];for(g=0;s>g;g++)if(i=[],d[g]=-1,v=o,j=b[g],j.length){for(l=u[g],h=0;t>h;h++)k=c[h],k.length?(m=a.score_map(j,k,l,e),i[h]=m,m>o&&y++,m>v&&(v=m,w=g,x=h)):i[h]=0;z[g]=v,r[g]=i}else for(h=0;t>h;h++)i[h]=0;if(0===y)return 0;if(1===y)return d[w]=x,f&&q(d,t),v;for(g=0;g<b.length;g++)z[g]=Math.max(p*z[g],o);var A=n(r,d,z);return f&&q(d,t),A},b(a.prototype,{getInteractive:function(){var a=this,b=this.interactive_debounce,c=this.interactive_mult,d=this.interactive_burst;if(0===b)return function(b,c,d,e){return c(a.search(b))};var e,f,g=window.performance&&window.performance.now?window.performance:Date,h=0,i=!1;return function(j,k,l,m){var n=function(){e=null,i&&(f=a.search(j),m(f)),h=0,i=!1};if(clearTimeout(e),e=setTimeout(n,b),++h<d){i=!1;var o=g.now();f=a.search(j);var p=k(f),q=g.now();return b=.5*b+.5*c*(q-o),p}return i=!0,l(f)}},__ttAdapter:function(){var a=this.getInteractive(),b=function(a){};return function(c,d,e){a(c,d,b,e)}},$uiSource:function(){var a=this.getInteractive(),b=function(a){};return function(c,d){a(c.term,d,b,d)}}}),"function"==typeof require&&"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):window.FuzzySearch=a,a}();